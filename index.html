<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BossX - Crypto Exchange & Xnode Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif}
        body{background:#000;color:#fff;overflow-x:hidden;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif}
        .gradient-bg{background:linear-gradient(to bottom,#1a1a1a,#000)}
        .gradient-border{border:1px solid rgba(245,158,11,0.2)}
        .hover-scale{transition:transform .2s ease-in-out}
        .hover-scale:hover{transform:scale(1.02)}
        .sidebar{transition:width .3s ease-in-out;width:14rem;min-width:14rem}
        .sidebar.collapsed{width:4rem;min-width:4rem}
        .menu-item{transition:all .2s ease-in-out}
        .menu-item:hover{background-color:rgba(31,41,55,0.5);transform:translateX(4px)}
        .menu-item.active{background:linear-gradient(to right,rgba(245,158,11,0.2),rgba(234,179,8,0.2));color:#f59e0b;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1)}
        .crypto-icon{width:2.5rem;height:2.5rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:.75rem;color:#000;overflow:hidden}
        .crypto-icon img{width:100%;height:100%;object-fit:cover;border-radius:.75rem}
        .crypto-icon-large{width:4rem;height:4rem;border-radius:1rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,rgba(245,158,11,0.1),rgba(234,179,8,0.1));border:1px solid rgba(245,158,11,0.3)}
        .profile-picture{width:2rem;height:2rem;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center}
        .profile-picture img{width:100%;height:100%;object-fit:cover}
        .stat-card{background:#1a1a1a;border:1px solid #374151;border-radius:.75rem;padding:1.25rem;transition:border-color .2s;position:relative;overflow:hidden;min-height:200px}
        .stat-card:hover{border-color:rgba(245,158,11,0.5)}
        .corner-dot{position:absolute;width:6px;height:6px;background:radial-gradient(circle,#22c55e,#10b981);border-radius:50%;opacity:0;transition:opacity .3s;box-shadow:0 0 6px #10b981}
        .stat-card:hover .corner-dot{opacity:1;animation:dotPulse 2s ease-in-out infinite}
        .corner-dot.top-left{top:-3px;left:-3px}
        .corner-dot.top-right{top:-3px;right:-3px}
        .corner-dot.bottom-right{bottom:-3px;right:-3px}
        .corner-dot.bottom-left{bottom:-3px;left:-3px}
        @keyframes dotPulse{0%,100%{transform:scale(1);box-shadow:0 0 6px #10b981}50%{transform:scale(1.2);box-shadow:0 0 12px #22c55e}}
        .border-line-gold{position:absolute;background:linear-gradient(90deg,transparent,#f59e0b,#d97706,#f59e0b,transparent);opacity:0;transition:opacity .3s;pointer-events:none}
        .exchange-card:hover .border-line-gold,.stat-card:hover .border-line-gold{opacity:1}
        .border-top-gold{top:0;left:0;width:100%;height:2px;animation:borderTop 3s linear infinite}
        .border-right-gold{top:0;right:0;width:2px;height:100%;animation:borderRight 3s linear infinite .7s}
        .border-bottom-gold{bottom:0;right:0;width:100%;height:2px;animation:borderBottom 3s linear infinite 1.4s}
        .border-left-gold{bottom:0;left:0;width:2px;height:100%;animation:borderLeft 3s linear infinite 2.1s}
        @keyframes borderTop{0%{transform:scaleX(0);opacity:0}10%{opacity:1}25%{transform:scaleX(1);opacity:1}30%{opacity:0}100%{opacity:0}}
        @keyframes borderRight{0%{transform:scaleY(0);opacity:0}10%{opacity:1}25%{transform:scaleY(1);opacity:1}30%{opacity:0}100%{opacity:0}}
        @keyframes borderBottom{0%{transform:scaleX(0);opacity:0}10%{opacity:1}25%{transform:scaleX(1);opacity:1}30%{opacity:0}100%{opacity:0}}
        @keyframes borderLeft{0%{transform:scaleY(0);opacity:0}10%{opacity:1}25%{transform:scaleY(1);opacity:1}30%{opacity:0}100%{opacity:0}}
        .power-button{position:relative;width:60px;height:60px;border-radius:50%;border:3px solid #374151;background:linear-gradient(145deg,#1f2937,#111827);cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 15px rgba(0,0,0,0.3),inset 0 1px 0 rgba(255,255,255,0.1)}
        .power-button:hover{transform:translateY(-2px)}
        .power-button.on{border-color:#10b981;background:linear-gradient(145deg,#059669,#047857);box-shadow:0 0 20px rgba(16,185,129,0.5)}
        .power-button.off{border-color:#dc2626;background:linear-gradient(145deg,#b91c1c,#991b1b)}
        .node-input{width:100%;padding:.5rem;background:rgba(31,41,55,0.8);border:1px solid #374151;border-radius:.5rem;color:#fff;transition:border-color .2s}
        .node-input:focus{outline:none;border-color:#f59e0b;box-shadow:0 0 0 2px rgba(245,158,11,0.2)}
        .node-button{width:100%;padding:.75rem;background:linear-gradient(145deg,#f59e0b,#d97706);border:none;border-radius:.5rem;color:#fff;font-weight:600;cursor:pointer;transition:all .2s}
        .node-button:hover:not(:disabled){background:linear-gradient(145deg,#d97706,#b45309);transform:translateY(-2px)}
        .convert-button{background:linear-gradient(145deg,#3b82f6,#2563eb)!important}
        .convert-button:hover{background:linear-gradient(145deg,#2563eb,#1d4ed8)!important}
        .exchange-card{background:linear-gradient(145deg,rgba(31,41,55,0.9),rgba(17,24,39,0.9));border:1px solid rgba(245,158,11,0.3);border-radius:1rem;box-shadow:0 10px 30px rgba(0,0,0,0.5),0 0 20px rgba(245,158,11,0.2);transition:all .3s}
        .exchange-card:hover{box-shadow:0 15px 40px rgba(0,0,0,0.6),0 0 30px rgba(245,158,11,0.3);transform:translateY(-5px)}
        .page-content{opacity:0;transform:translateY(20px);transition:all .3s;display:none}
        .page-content.active{opacity:1;transform:translateY(0);display:block}
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}
        @media (min-width:1024px){.stats-grid{grid-template-columns:repeat(4,1fr)}}
    </style>
</head>
<body class="min-h-screen bg-black text-white flex">
    <div id="sidebar" class="sidebar h-screen gradient-bg gradient-border">
        <div class="p-3 border-b border-amber-500/20">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="crypto-icon">
                        <img src="https://i.ibb.co/qYBkPDH3/Picsart-25-04-01-16-25-47-054.png" alt="BossX Logo"/>
                    </div>
                    <div id="logo-text">
                        <h1 class="text-lg font-bold text-amber-400">BossX</h1>
                        <p class="text-xs text-gray-400">Crypto Exchange</p>
                    </div>
                </div>
                <button id="toggle-sidebar" class="text-gray-400 hover:text-amber-400 p-1 rounded">
                    <i data-lucide="chevron-left"></i>
                </button>
            </div>
        </div>
        <nav class="mt-4 px-2">
            <a href="#" class="menu-item active flex items-center px-2 py-2 mb-2 rounded-xl" data-page="dashboard"><i data-lucide="layout-dashboard" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Dashboard</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="deposit"><i data-lucide="arrow-down-circle" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Deposit</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="withdrawal"><i data-lucide="arrow-up-circle" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Withdrawal</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="p2p"><i data-lucide="users" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Peer to Peer</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="chat-room"><i data-lucide="message-circle" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Chat Room</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="referral"><i data-lucide="user-plus" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Referral</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="marketplace"><i data-lucide="shopping-bag" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Marketplace</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="team-developer"><i data-lucide="users" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Team Developer</span></a>
            <a href="#" class="menu-item flex items-center px-2 py-2 mb-2 rounded-xl text-gray-400" data-page="exchange"><i data-lucide="trending-up" class="w-4 h-4"></i><span class="ml-2 menu-text text-sm">Exchange</span></a>
        </nav>
    </div>
    <div class="flex-1 flex flex-col">
        <header class="bg-gradient-to-r from-gray-900 via-black to-gray-900 border-b border-amber-500/20 px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex flex-col">
                    <div id="time" class="text-amber-400 text-lg font-bold">00:00:00</div>
                    <div id="date" class="text-gray-400 text-sm">Loading...</div>
                </div>
                <div class="flex-1 max-w-sm mx-4">
                    <div class="relative">
                        <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"></i>
                        <input type="text" placeholder="Cari..." class="w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700 rounded-lg">
                    </div>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="flex items-center space-x-2 bg-gray-800/50 rounded-lg border border-gray-700 p-2">
                        <div class="profile-picture">
                            <img src="https://i.ibb.co/gbVsGLy0/FB-IMG-1617237754232.jpg" alt="User"/>
                        </div>
                        <div class="text-sm">
                            <p class="font-medium">Fery Muliawan</p>
                            <p class="text-amber-400 text-xs">Validator: 8055x</p>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main class="flex-1 overflow-auto p-4">
            <div id="content" class="space-y-4">
                                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page-content active">
                    <!-- Running Text Ticker -->
                    <div class="bg-gray-900 border border-amber-500/20 rounded-xl p-3 overflow-hidden mb-4">
                        <div class="relative">
                            <div id="running-text" class="whitespace-nowrap text-amber-400 font-medium text-sm animate-[scroll-left_60s_linear_infinite]">
                                ðŸ”¥ BTC +5.2% $35,000 â€¢ ETH +3.8% $1,875 â€¢ BNB -1.2% $206 â€¢ ADA +7.1% $0.52 â€¢ SOL +12.5% $98 â€¢ BossX Validator Masternode System Active â€¢ Xnode Mining Devices Available in Marketplace!
                            </div>
                        </div>
                    </div>

                    <!-- 4 Stats Cards -->
                    <div class="stats-grid mb-6">
                        <!-- Card 1: Aktivasi Node -->
                        <div class="stat-card hover-scale">
                            <div class="corner-dot top-left"></div>
                            <div class="corner-dot top-right"></div>
                            <div class="corner-dot bottom-right"></div>
                            <div class="corner-dot bottom-left"></div>
                            <div class="flex items-center justify-between mb-3">
                                <p class="text-sm text-gray-400">Aktivasi Node</p>
                                <i data-lucide="cpu" class="w-4 h-4 text-amber-400"></i>
                            </div>
                            <div class="text-lg font-bold text-white mb-3">
                                <span id="bossx-balance">1000.000000000 BossX</span>
                            </div>
                            <div class="space-y-3">
                                <input id="activation-input" type="number" placeholder="Minimal 10 BossX" class="node-input" min="10" step="any"/>
                                <button id="activation-button" class="node-button" onclick="activateNode()">Aktivasi Node</button>
                            </div>
                        </div>

                        <!-- Card 2: Validasi Running -->
                        <div class="stat-card hover-scale">
                            <div class="corner-dot top-left"></div>
                            <div class="corner-dot top-right"></div>
                            <div class="corner-dot bottom-right"></div>
                            <div class="corner-dot bottom-left"></div>
                            <div class="flex items-center justify-between mb-3">
                                <p class="text-sm text-gray-400">Validasi Running</p>
                                <i data-lucide="zap" class="w-4 h-4 text-green-400"></i>
                            </div>
                            <div class="text-lg font-bold text-white mb-3">
                                <span id="validation-balance">0.000000000 BossX</span>
                            </div>
                            <div class="text-center space-y-3">
                                <p id="validation-status" class="text-sm text-gray-400">Belum berjalan</p>
                                <div id="countdown-display" class="countdown-timer" style="display:none;">
                                    Countdown: <span id="countdown-time">00:00:00</span>
                                </div>
                                <div class="flex justify-center">
                                    <button id="power-btn" class="power-button off" onclick="togglePower()">
                                        <i data-lucide="power" class="w-6 h-6 text-white"></i>
                                    </button>
                                </div>
                                <p id="power-status" class="text-xs text-gray-500" style="display:none;">Masternode running - Auto stop jam 06:00</p>
                            </div>
                        </div>

                        <!-- Card 3: Reward Validasi -->
                        <div class="stat-card hover-scale">
                            <div class="corner-dot top-left"></div>
                            <div class="corner-dot top-right"></div>
                            <div class="corner-dot bottom-right"></div>
                            <div class="corner-dot bottom-left"></div>
                            <div class="flex items-center justify-between mb-3">
                                <p class="text-sm text-gray-400">Reward Validasi</p>
                                <i data-lucide="gift" class="w-4 h-4 text-blue-400"></i>
                            </div>
                            <div class="text-lg font-bold text-white mb-3">
                                <span id="reward-balance">0.000000000 BossX</span>
                            </div>
                            <div class="space-y-3">
                                <p class="text-xs text-blue-400">
                                    Auto claim in: <span id="auto-claim-timer" class="auto-claim-timer">--</span>s
                                </p>
                                <button class="node-button convert-button" onclick="convertToUSDT()">Convert To USDT</button>
                            </div>
                        </div>

                        <!-- Card 4: Balance USDT -->
                        <div class="stat-card hover-scale">
                            <div class="corner-dot top-left"></div>
                            <div class="corner-dot top-right"></div>
                            <div class="corner-dot bottom-right"></div>
                            <div class="corner-dot bottom-left"></div>
                            <div class="flex items-center justify-between mb-2">
                                <p class="text-sm text-gray-400">Balance USDT</p>
                                <i data-lucide="dollar-sign" class="w-4 h-4 text-green-400"></i>
                            </div>
                            <div class="text-2xl font-bold text-white">
                                <span id="usdt-balance">1000.00 USDT</span>
                            </div>
                            <p class="text-xs text-green-400 mt-1">Available balance</p>
                        </div>
                    </div>

                    <!-- Log Engine Masternode -->
                    <div id="log-engine" class="bg-gray-900 border border-amber-500/20 rounded-xl p-4 mt-6 relative overflow-hidden">
                        <div class="border-line-gold border-top-gold"></div>
                        <div class="border-line-gold border-right-gold"></div>
                        <div class="border-line-gold border-bottom-gold"></div>
                        <div class="border-line-gold border-left-gold"></div>
                        <div class="flex justify-between items-center mb-3">
                            <h3 class="text-lg font-semibold text-amber-400">Log Engine Masternode</h3>
                            <button id="clear-log" class="px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors">
                                Clear Log
                            </button>
                        </div>
                        <div id="log-output" class="bg-black p-4 rounded-lg overflow-y-auto h-64 text-sm font-mono whitespace-pre-wrap space-y-1"></div>
                    </div>

                    <!-- System Info -->
                    <div class="bg-gray-900 border border-blue-500/20 rounded-xl p-4 mt-6 relative overflow-hidden">
                        <div class="border-line-gold border-top-gold"></div>
                        <div class="border-line-gold border-right-gold"></div>
                        <div class="border-line-gold border-bottom-gold"></div>
                        <div class="border-line-gold border-left-gold"></div>
                        <div class="flex items-center mb-3">
                            <i data-lucide="info" class="w-5 h-5 text-blue-400 mr-2"></i>
                            <h3 class="text-lg font-semibold text-blue-400">Informasi Sistem BossX Validator</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300">
                            <div>
                                <p><strong>â€¢ Node Status:</strong> <span id="node-status">Belum Aktif</span></p>
                                <p><strong>â€¢ Auto Stop:</strong> Setiap hari jam 06:00</p>
                                <p><strong>â€¢ Auto Claim:</strong> Hanya saat validasi running</p>
                                <p><strong>â€¢ Masa Berlaku Validasi:</strong> <span id="masa-berlaku">40.000.000 detik</span></p>
                            </div>
                            <div>
                                <p><strong>â€¢ Minimal Aktivasi:</strong> 10 BossX</p>
                                <p><strong>â€¢ Minimal Convert:</strong> 1 BossX</p>
                                <p><strong>â€¢ Rate Convert:</strong> 1 BossX = 1 USDT</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Marketplace Page - 8 Varian Xnode -->
                <div id="marketplace-page" class="page-content">
                    <div class="p-6">
                        <div class="bg-gradient-to-r from-gray-900 via-black to-gray-900 border border-amber-500/30 rounded-xl p-8 mb-8 relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent"></div>
                            <div class="relative z-10 flex items-center justify-between">
                                <div>
                                    <h1 class="text-4xl font-bold text-amber-400 mb-3 flex items-center">
                                        <i data-lucide="cpu" class="w-10 h-10 mr-3"></i>
                                        Xnode Marketplace
                                    </h1>
                                    <p class="text-xl text-gray-300">8 Varian alat mining plug & play resmi BossX<br>Hemat listrik, hashrate tinggi, langsung sync ke validator masternode<br>Pembelian eksklusif menggunakan USDT</p>
                                </div>
                                <div class="crypto-icon-large">
                                    <i data-lucide="zap" class="text-amber-400 w-12 h-12"></i>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                            <!-- 1. Xnode Classic -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://mineshop.eu/storage/tinymce/XuV7x8eyQkZHCN5s0zR1Sa1iOQvdUJ1EbHPgDbDd.webp" alt="Xnode Classic" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-amber-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-amber-400 mb-2 text-center">Xnode Classic</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Hashrate: 5-10 TH/s | 150W</p>
                                <div class="text-2xl font-bold text-amber-400 text-center mb-4">150 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Classic', 150, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 2. Xnode Pro Angle -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://p.turbosquid.com/ts-thumb/K3/GDAJ0m/Ly/di8sunwvlqqc6ixb_bitcoin_mining_asic_002/jpg/1685527487/1920x1080/fit_q87/9e1f6b5d636fa49f05936c47512c28e2eba99d8c/di8sunwvlqqc6ixb_bitcoin_mining_asic_002.jpg" alt="Xnode Pro Angle" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-blue-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-blue-400 mb-2 text-center">Xnode Pro Angle</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Hashrate: 15 TH/s | 400W</p>
                                <div class="text-2xl font-bold text-blue-400 text-center mb-4">450 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Pro Angle', 450, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 3. Xnode Advanced -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://cdn.mos.cms.futurecdn.net/VYGvzvoy87pLw4a2UfCZTD.jpg" alt="Xnode Advanced" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-amber-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-amber-400 mb-2 text-center">Xnode Advanced</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Hashrate: 20 TH/s | 500W</p>
                                <div class="text-2xl font-bold text-amber-400 text-center mb-4">600 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Advanced', 600, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 4. Xnode WiFi Edition -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://m.media-amazon.com/images/I/61J1asdQMzL._AC_UF350,350_QL80_.jpg" alt="Xnode WiFi Edition" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-purple-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-purple-400 mb-2 text-center">Xnode WiFi Edition</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Hashrate: 1-4 TH/s | Silent</p>
                                <div class="text-2xl font-bold text-purple-400 text-center mb-4">250 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode WiFi Edition', 250, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 5. Xnode BMM Series -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://cdn.prod.website-files.com/5e5ee6f9b325a6509259421f/670630b81c7f246622975cd0_miner.png" alt="Xnode BMM Series" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-amber-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-amber-400 mb-2 text-center">Xnode BMM Series</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Hashrate: 10-15 TH/s | Premium</p>
                                <div class="text-2xl font-bold text-amber-400 text-center mb-4">400 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode BMM Series', 400, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 6. Xnode Touch Display -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://www.solosatoshi.com/wp-content/uploads/2025/03/Bitaxe-Touch-Miner-Displaying-Bitcoin-Price-on-Desk.png" alt="Xnode Touch Display" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-cyan-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-cyan-400 mb-2 text-center">Xnode Touch Display</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Dengan layar real-time | 8 TH/s</p>
                                <div class="text-2xl font-bold text-cyan-400 text-center mb-4">350 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Touch Display', 350, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 7. Xnode Cyberpunk Neon -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://www.solosatoshi.com/wp-content/uploads/2025/03/bitaxe-touch-bitcoin-solo-miner-1-e1752951205491.webp" alt="Xnode Cyberpunk Neon" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-purple-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-purple-400 mb-2 text-center">Xnode Cyberpunk Neon</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Edisi glow neon | 12 TH/s</p>
                                <div class="text-2xl font-bold text-purple-400 text-center mb-4">550 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Cyberpunk Neon', 550, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                            </div>

                            <!-- 8. Xnode Silent Pro -->
                            <div class="exchange-card p-6 relative overflow-hidden hover-scale card-hover">
                                <div class="border-line-gold border-top-gold"></div>
                                <div class="border-line-gold border-right-gold"></div>
                                <div class="border-line-gold border-bottom-gold"></div>
                                <div class="border-line-gold border-left-gold"></div>
                                <img src="https://m.media-amazon.com/images/I/612IUqqvPiL._AC_UF894,1000_QL80_.jpg" alt="Xnode Silent Pro" class="w-full h-48 object-contain rounded-xl mb-4 shadow-2xl border border-green-500/30 bg-black"/>
                                <h3 class="text-xl font-bold text-green-400 mb-2 text-center">Xnode Silent Pro</h3>
                                <p class="text-sm text-gray-300 text-center mb-4">Super silent | 18 TH/s | 450W</p>
                                <div class="text-2xl font-bold text-green-400 text-center mb-4">800 USDT</div>
                                <button class="node-button convert-button w-full py-3 font-bold" onclick="buyMarketplaceItem('Xnode Silent Pro', 800, 'USDT')">
                                    <i data-lucide="shopping-cart" class="mr-2"></i> Buy with USDT
                                </button>
                                <div class="mt-2 text-xs text-red-400 text-center font-bold">Limited Stock!</div>
                            </div>
                        </div>

                        <div class="mt-12 bg-gradient-to-r from-gray-900 to-black border border-green-500/20 rounded-xl p-8 text-center">
                            <i data-lucide="truck" class="w-16 h-16 text-green-400 mx-auto mb-4"></i>
                            <h2 class="text-2xl font-bold text-green-400 mb-3">Pengiriman Worldwide & Garansi</h2>
                            <p class="text-gray-400 text-lg">Pembelian dengan USDT â€¢ Instant sync ke akun BossX â€¢ Garansi 1 tahun â€¢ Support 24/7</p>
                        </div>
                    </div>
                </div>
                                <!-- Deposit Page -->
                <div id="deposit-page" class="page-content">
                    <div class="p-6">
                        <div class="bg-gradient-to-r from-gray-900 via-black to-gray-900 border border-amber-500/20 rounded-xl p-6 mb-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold text-amber-400 mb-2">Deposit Crypto</h1>
                                    <p class="text-gray-400">Deposit USDT dan BOSSX ke wallet Anda dengan mudah dan aman</p>
                                </div>
                                <div class="crypto-icon-large">
                                    <i data-lucide="wallet" class="text-amber-400 w-8 h-8"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-900 border border-amber-500/20 rounded-xl p-6 mb-6">
                            <div class="flex space-x-4 mb-6">
                                <button id="usdt-tab" class="tab-button active px-8 py-3 rounded-xl font-semibold bg-gradient-to-r from-amber-500 to-orange-500 text-black">USDT</button>
                                <button id="bossx-tab" class="tab-button px-8 py-3 rounded-xl font-semibold bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white">BOSSX</button>
                            </div>

                            <div class="grid lg:grid-cols-2 gap-8">
                                <div class="space-y-6">
                                    <div class="stat-card p-6">
                                        <div class="text-center">
                                            <h3 class="text-xl font-bold text-white mb-4 flex items-center justify-center">
                                                <i data-lucide="qr-code" class="mr-2 text-amber-400 w-6 h-6"></i>
                                                QR Code <span id="qr-currency">USDT</span>
                                            </h3>
                                            <img id="qr-code-image" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=TQ3HBNdVFmTFvz9wz3AR2Siss7MRN1fuRM" alt="QR Code" class="w-48 h-48 mx-auto border-4 border-amber-500/30 rounded-xl" />
                                            <button id="download-qr" class="mt-4 flex items-center justify-center mx-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
                                                <i data-lucide="download" class="mr-2 w-4 h-4"></i> Download QR Code
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <div class="stat-card p-6">
                                        <h3 class="text-xl font-bold text-white mb-6 flex items-center">
                                            <i data-lucide="wallet" class="mr-2 text-amber-400 w-6 h-6"></i>
                                            Alamat Wallet <span id="wallet-currency">USDT</span>
                                        </h3>
                                        <div class="space-y-4">
                                            <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-4">
                                                <p class="text-sm text-gray-400 mb-2">Network:</p>
                                                <p class="text-white font-mono">TRON (TRC20)</p>
                                            </div>
                                            <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-4">
                                                <p class="text-sm text-gray-400 mb-2">Alamat Wallet:</p>
                                                <div class="flex items-center space-x-2">
                                                    <p id="wallet-address" class="text-white font-mono text-sm break-all flex-1">TQ3HBNdVFmTFvz9wz3AR2Siss7MRN1fuRM</p>
                                                    <button id="copy-address" class="copy-button flex items-center px-3 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-black rounded-lg font-semibold">
                                                        <i data-lucide="copy" class="mr-1 w-4 h-4"></i> Copy
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-4">
                                                <h4 class="text-blue-400 font-semibold mb-2 flex items-center">
                                                    <i data-lucide="alert-triangle" class="mr-2 w-4 h-4"></i> Penting!
                                                </h4>
                                                <ul class="text-sm text-gray-300 space-y-1">
                                                    <li>â€¢ Hanya kirim USDT ke alamat ini</li>
                                                    <li>â€¢ Pastikan menggunakan network TRON (TRC20)</li>
                                                    <li>â€¢ Minimal deposit: 10 USDT</li>
                                                    <li>â€¢ Deposit akan dikonfirmasi setelah 1 konfirmasi network</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-900 border border-amber-500/20 rounded-xl p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-white flex items-center">
                                    <i data-lucide="calendar" class="mr-2 text-amber-400 w-6 h-6"></i>
                                    History Deposit
                                </h3>
                                <button id="refresh-history" class="flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg">
                                    <i data-lucide="refresh-cw" class="mr-2 w-4 h-4"></i> Refresh
                                </button>
                            </div>
                            <div id="history-content" class="text-center py-12 text-gray-500">
                                Belum ada history deposit
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Withdrawal Page -->
                <div id="withdrawal-page" class="page-content">
                    <div class="p-6">
                        <div class="bg-gradient-to-r from-gray-900 via-black to-gray-900 border border-red-500/20 rounded-xl p-6 mb-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h1 class="text-3xl font-bold text-red-400 mb-2">Withdrawal Crypto</h1>
                                    <p class="text-gray-400">Tarik USDT dari wallet Anda dengan aman dan cepat</p>
                                </div>
                                <div class="crypto-icon-large">
                                    <i data-lucide="arrow-up" class="text-red-400 w-8 h-8"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-900 border border-red-500/20 rounded-xl p-6 mb-6">
                            <div class="flex space-x-4 mb-6">
                                <button id="withdrawal-usdt-tab" class="tab-button active px-8 py-3 rounded-xl font-semibold bg-gradient-to-r from-red-500 to-red-600 text-white">USDT</button>
                                <button id="withdrawal-bossx-tab" class="tab-button px-8 py-3 rounded-xl font-semibold bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white">BOSSX</button>
                            </div>

                            <div class="grid lg:grid-cols-2 gap-8">
                                <div class="space-y-6">
                                    <div class="stat-card p-6">
                                        <h3 class="text-xl font-bold text-white mb-6">Balance <span id="withdrawal-currency">USDT</span></h3>
                                        <div class="text-center mb-6">
                                            <div class="text-3xl font-bold text-green-400 mb-2">
                                                <span id="withdrawal-balance">1000.00 USDT</span>
                                            </div>
                                        </div>
                                        <div class="space-y-4">
                                            <div id="network-selection" class="space-y-3">
                                                <label class="text-sm text-gray-400">Pilih Network:</label>
                                                <div class="grid grid-cols-2 gap-3">
                                                    <label class="network-option selected">
                                                        <input type="radio" name="withdrawal-network" value="TRC20" checked>
                                                        <div class="flex items-center justify-between">
                                                            <span class="font-semibold text-white">TRC20</span>
                                                            <span class="text-xs text-gray-400">TRON</span>
                                                        </div>
                                                        <div class="text-xs text-gray-500 mt-1">Fee: 1 USDT</div>
                                                    </label>
                                                    <label class="network-option">
                                                        <input type="radio" name="withdrawal-network" value="BEP20">
                                                        <div class="flex items-center justify-between">
                                                            <span class="font-semibold text-white">BEP20</span>
                                                            <span class="text-xs text-gray-400">BSC</span>
                                                        </div>
                                                        <div class="text-xs text-gray-500 mt-1">Fee: 1 USDT</div>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="space-y-2">
                                                <label class="text-sm text-gray-400">Alamat Wallet Tujuan:</label>
                                                <input id="withdrawal-address" type="text" placeholder="Masukkan alamat wallet tujuan" class="node-input" />
                                            </div>
                                            <div class="space-y-2">
                                                <label class="text-sm text-gray-400">Jumlah Withdrawal:</label>
                                                <div class="relative">
                                                    <input id="withdrawal-amount" type="number" placeholder="0.00" class="node-input pr-16" step="0.01" min="0" />
                                                    <button id="max-withdrawal" class="absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 bg-amber-500 text-black text-xs rounded font-semibold">MAX</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="space-y-6">
                                    <div class="stat-card p-6">
                                        <h3 class="text-xl font-bold text-white mb-6">Ringkasan Withdrawal</h3>
                                        <div class="space-y-4">
                                            <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-4">
                                                <div class="flex justify-between mb-2">
                                                    <span class="text-gray-400">Network:</span>
                                                    <span id="summary-network" class="text-white">TRC20</span>
                                                </div>
                                                <div class="flex justify-between mb-2">
                                                    <span class="text-gray-400">Jumlah:</span>
                                                    <span id="summary-amount" class="text-white">0.00</span>
                                                </div>
                                                <div class="flex justify-between mb-2">
                                                    <span class="text-gray-400">Fee:</span>
                                                    <span id="summary-fee" class="text-red-400">1.00</span>
                                                </div>
                                                <hr class="border-gray-600 my-3">
                                                <div class="flex justify-between">
                                                    <span class="text-gray-400 font-semibold">Total Diterima:</span>
                                                    <span id="summary-received" class="text-green-400 font-bold">0.00</span>
                                                </div>
                                            </div>
                                            <button id="withdrawal-submit" class="node-button withdrawal-button w-full" onclick="submitWithdrawal()">
                                                Submit Withdrawal
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- P2P Page -->
                <div id="p2p-page" class="page-content">
                    <div class="p-6">
                        <div class="exchange-card p-6 mb-6">
                            <h1 class="text-3xl font-bold text-amber-400 mb-4 flex items-center">
                                <i data-lucide="users" class="w-8 h-8 mr-2"></i>
                                Peer to Peer Transfer
                            </h1>
                            <p class="text-gray-400 mb-6">Transfer BossX ke sesama pengguna menggunakan @username. Minimal transfer 1 BossX.</p>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="exchange-card p-6">
                                <h2 class="text-xl font-bold text-white mb-4">Kirim BossX</h2>
                                <div class="space-y-4">
                                    <div class="space-y-2">
                                        <label class="text-sm text-gray-400">Username Penerima:</label>
                                        <input id="p2p-username" type="text" placeholder="@username" class="node-input" />
                                    </div>
                                    <div class="space-y-2">
                                        <label class="text-sm text-gray-400">Jumlah BossX:</label>
                                        <div class="relative">
                                            <input id="p2p-amount" type="number" placeholder="0.00" class="node-input pr-16" step="0.000000001" min="1" />
                                            <button id="p2p-max" class="absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 bg-amber-500 text-black text-xs rounded font-semibold">MAX</button>
                                        </div>
                                    </div>
                                    <button id="p2p-submit" class="node-button" onclick="submitP2PTransfer()">Kirim BossX</button>
                                </div>
                            </div>
                            <div class="exchange-card p-6">
                                <h2 class="text-xl font-bold text-white mb-4">Statistik P2P</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="stat-card p-4">
                                        <p class="text-sm text-gray-400 mb-2">Total Dikirim</p>
                                        <div id="p2p-total-sent" class="text-xl font-bold text-white">0 BossX</div>
                                    </div>
                                    <div class="stat-card p-4">
                                        <p class="text-sm text-gray-400 mb-2">Total Diterima</p>
                                        <div id="p2p-total-received" class="text-xl font-bold text-white">0 BossX</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Referral Page -->
                <div id="referral-page" class="page-content">
                    <div class="p-6">
                        <h1 class="text-2xl font-bold text-amber-400 mb-4">Referral</h1>
                        <div class="stat-card p-6 mb-6">
                            <h3 class="text-xl font-bold text-white mb-4">Kode Referral Anda</h3>
                            <div class="flex items-center space-x-2 mb-4">
                                <input id="referral-code" type="text" class="node-input flex-1" readonly value="REF-BOSSX2025" />
                                <button onclick="copyReferralCode()" class="copy-button flex items-center px-3 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-black rounded-lg font-semibold">
                                    <i data-lucide="copy" class="mr-1 w-4 h-4"></i> Copy
                                </button>
                            </div>
                            <p class="text-gray-400">Bagikan kode referral Anda untuk mendapatkan reward dari deposit teman.</p>
                        </div>
                    </div>
                </div>

                <!-- Team Developer Page -->
                <div id="team-developer-page" class="page-content">
                    <div class="p-6">
                        <h1 class="text-3xl font-bold text-amber-400 mb-6">Team Developer</h1>
                        <p class="text-gray-400 mb-8">Temui tim di balik BossX Crypto Exchange Platform.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="exchange-card p-6 text-center relative overflow-hidden">
                                <div class="border-line-white border-top-white"></div>
                                <div class="border-line-white border-right-white"></div>
                                <div class="border-line-white border-bottom-white"></div>
                                <div class="border-line-white border-left-white"></div>
                                <div class="w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-4 border-amber-500">
                                    <img src="https://i.ibb.co.com/N2RF70Vs/IMG-1097-removebg-preview.png" alt="CEO" class="w-full h-full object-cover">
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">Fery Muliawan</h3>
                                <p class="text-amber-400 mb-4">CEO</p>
                                <p class="text-gray-300">Pendiri dan visioner BossX</p>
                            </div>
                            <!-- Tambahkan card tim lain jika ada -->
                            <div class="exchange-card p-6 text-center relative overflow-hidden">
                                <div class="w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-4 border-amber-500">
                                    <img src="https://via.placeholder.com/150" alt="Team" class="w-full h-full object-cover">
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">Team Member</h3>
                                <p class="text-amber-400 mb-4">Developer</p>
                                <p class="text-gray-300">Bertanggung jawab atas pengembangan platform</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Room Page -->
                <div id="chat-room-page" class="page-content">
                    <div id="chat-room-container" class="w-full h-full"></div>
                </div>

                <!-- Exchange Page -->
                <div id="exchange-page" class="page-content">
                    <div class="p-6">
                        <div class="exchange-card p-4 mb-4">
                            <h1 class="text-3xl font-bold text-amber-400 mb-2">Internal Market - BossX/USDT</h1>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                            <div class="exchange-card p-4 col-span-3">
                                <div id="tradingview-chart" class="h-96 w-full"></div>
                            </div>
                            <!-- Order book dan trade form -->
                            <div class="exchange-card p-4">
                                <h2 class="text-lg font-bold text-white mb-4">Buy Orders</h2>
                                <div id="buy-orders" class="text-sm"></div>
                            </div>
                            <div class="exchange-card p-4">
                                <h2 class="text-lg font-bold text-white mb-4">Sell Orders</h2>
                                <div id="sell-orders" class="text-sm"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
        <script>
        // Global Variables
        let bossxBalance = 1000;
        let usdtBalance = 1000;
        let isNodeActive = false;
        let isValidationRunning = false;
        let stakedAmount = 0;
        let currentValidationReward = 0;
        let totalRewardBalance = 0;
        let shareCounter = 0;
        let lastClaimTime = 0;

        // Update Clock
        function updateClock() {
            const now = new Date();
            document.getElementById('time').textContent = now.toLocaleTimeString('id-ID', {hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit'});
            document.getElementById('date').textContent = now.toLocaleDateString('id-ID', {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'});
        }

        // Show Message
        function showSuccessMessage(msg) {
            alert(msg); // Ganti dengan toast kalau mau lebih bagus
        }
        function showErrorMessage(msg) {
            alert(msg);
        }

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId + '-page').classList.add('active');
            document.querySelectorAll('.menu-item').forEach(m => {
                m.classList.remove('active');
                m.classList.add('text-gray-400');
            });
            const activeMenu = document.querySelector(`[data-page="${pageId}"]`);
            if (activeMenu) {
                activeMenu.classList.add('active');
                activeMenu.classList.remove('text-gray-400');
            }
            if (pageId === 'chat-room') {
                setTimeout(initializeChatRoom, 100);
            }
            if (pageId === 'exchange') {
                // Init TradingView
                new TradingView.widget({
                    "width": "100%",
                    "height": 500,
                    "symbol": "BINANCE:BTCUSDT",
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "id",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "container_id": "tradingview-chart"
                });
            }
        }

        // Log Engine
        function appendLog(msg) {
            const log = document.getElementById('log-output');
            const entry = document.createElement('p');
            entry.className = 'log-entry';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
            log.appendChild(entry);
            if (log.children.length > 50) log.removeChild(log.firstChild);
            log.scrollTop = log.scrollHeight;
        }

        // Aktivasi Node
        function activateNode() {
            const amount = parseFloat(document.getElementById('activation-input').value) || 0;
            if (amount < 10) return showErrorMessage('Minimal 10 BossX');
            if (amount > bossxBalance) return showErrorMessage('Saldo tidak cukup');
            bossxBalance -= amount;
            stakedAmount = amount;
            isNodeActive = true;
            document.getElementById('activation-button').disabled = true;
            document.getElementById('activation-button').textContent = 'Node Aktif âœ“';
            document.getElementById('node-status').textContent = 'Aktif';
            document.getElementById('node-status').style.color = '#10b981';
            updateBalanceDisplays();
            appendLog(`Node diaktifkan dengan ${amount} BossX`);
            showSuccessMessage('Node berhasil diaktifkan!');
        }

        // Toggle Power Validasi
        function togglePower() {
            if (!isNodeActive) return showErrorMessage('Aktivasi node dulu!');
            isValidationRunning = !isValidationRunning;
            const btn = document.getElementById('power-btn');
            if (isValidationRunning) {
                btn.classList.remove('off');
                btn.classList.add('on');
                document.getElementById('validation-status').textContent = 'Running';
                document.getElementById('countdown-display').style.display = 'block';
                appendLog('Validasi dimulai');
                showSuccessMessage('Validasi running!');
                // Simulasi reward
                setInterval(() => {
                    if (isValidationRunning) {
                        currentValidationReward += stakedAmount * 0.00000003858;
                        totalRewardBalance += stakedAmount * 0.00000003858;
                        updateBalanceDisplays();
                        appendLog(`Reward +${(stakedAmount * 0.00000003858).toFixed(9)} BossX`);
                    }
                }, 1000);
            } else {
                btn.classList.remove('on');
                btn.classList.add('off');
                document.getElementById('validation-status').textContent = 'Stopped';
                appendLog('Validasi dihentikan');
            }
        }

        // Convert Reward to USDT
        function convertToUSDT() {
            if (totalRewardBalance < 1) return showErrorMessage('Minimal 1 BossX');
            const amount = Math.floor(totalRewardBalance);
            totalRewardBalance -= amount;
            usdtBalance += amount;
            updateBalanceDisplays();
            appendLog(`Convert ${amount} BossX â†’ ${amount} USDT`);
            showSuccessMessage(`Berhasil convert ${amount} BossX ke USDT!`);
        }

        // Buy Xnode from Marketplace
        function buyMarketplaceItem(item, price, currency) {
            if (currency === 'USDT' && usdtBalance < price) {
                showErrorMessage('Saldo USDT tidak cukup!');
                return;
            }
            if (confirm(`Konfirmasi pembelian ${item} seharga ${price} USDT?`)) {
                usdtBalance -= price;
                updateBalanceDisplays();
                appendLog(`[MARKETPLACE] Pembelian ${item} berhasil -${price} USDT`);
                showSuccessMessage(`Selamat! ${item} berhasil dibeli dan akan segera dikirim.`);
            }
        }

        // Update Balance Display
        function updateBalanceDisplays() {
            document.getElementById('bossx-balance').textContent = bossxBalance.toFixed(9) + ' BossX';
            document.getElementById('validation-balance').textContent = currentValidationReward.toFixed(9) + ' BossX';
            document.getElementById('reward-balance').textContent = totalRewardBalance.toFixed(9) + ' BossX';
            document.getElementById('usdt-balance').textContent = usdtBalance.toFixed(2) + ' USDT';
            document.getElementById('withdrawal-balance').textContent = usdtBalance.toFixed(2) + ' USDT';
        }

        // Sidebar Toggle
        document.getElementById('toggle-sidebar').addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            const logoText = document.getElementById('logo-text');
            const menuTexts = document.querySelectorAll('.menu-text');
            sidebar.classList.toggle('collapsed');
            logoText.style.display = sidebar.classList.contains('collapsed') ? 'none' : 'block';
            menuTexts.forEach(t => t.style.display = sidebar.classList.contains('collapsed') ? 'none' : 'inline');
        });

        // Menu Click
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const page = item.dataset.page;
                showPage(page);
            });
        });

        // Clear Log
        document.getElementById('clear-log').addEventListener('click', () => {
            document.getElementById('log-output').innerHTML = '';
            showSuccessMessage('Log dibersihkan');
        });

        // Init
        window.onload = () => {
            updateClock();
            setInterval(updateClock, 1000);
            lucide.createIcons();
            updateBalanceDisplays();
            showPage('dashboard');
        };
    </script>

    <!-- Chat Room React -->
    <script type="text/babel">
        function initializeChatRoom() {
            const { useState } = React;

            const ChatRoomApp = () => {
                const [messages, setMessages] = useState([
                    {id: 1, sender: 'BossX Bot', content: 'Selamat datang di Chat Room!', time: '10:00'}
                ]);
                const [input, setInput] = useState('');

                const sendMessage = () => {
                    if (input.trim()) {
                        setMessages([...messages, {id: messages.length + 1, sender: 'You', content: input, time: new Date().toLocaleTimeString('id-ID', {hour: '2-digit', minute: '2-digit'})}]);
                        setInput('');
                    }
                };

                return (
                    <div className="h-full flex flex-col bg-gray-900">
                        <div className="p-4 border-b border-gray-700">
                            <h2 className="text-xl font-bold text-amber-400">Chat Room BossX</h2>
                        </div>
                        <div className="flex-1 overflow-y-auto p-4 space-y-4">
                            {messages.map(msg => (
                                <div key={msg.id} className={`flex ${msg.sender === 'You' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`max-w-xs px-4 py-2 rounded-lg ${msg.sender === 'You' ? 'bg-amber-500 text-black' : 'bg-gray-700'}`}>
                                        <p className="font-semibold text-sm">{msg.sender}</p>
                                        <p>{msg.content}</p>
                                        <p className="text-xs text-gray-400 text-right">{msg.time}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div className="p-4 border-t border-gray-700">
                            <div className="flex gap-2">
                                <input type="text" value={input} onChange={(e) => setInput(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && sendMessage()} placeholder="Ketik pesan..." className="flex-1 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 text-white" />
                                <button onClick={sendMessage} className="bg-amber-500 hover:bg-amber-600 px-6 py-2 rounded-lg font-bold">Kirim</button>
                            </div>
                        </div>
                    </div>
                );
            };

            ReactDOM.render(<ChatRoomApp />, document.getElementById('chat-room-container'));
        }
    </script>
</body>
</html>
